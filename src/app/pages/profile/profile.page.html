<ion-header>
    <ion-toolbar color="primary">
        <ion-buttons slot="start">
            <ion-back-button defaultHref="tabs"></ion-back-button>
        </ion-buttons>
        <ion-title>Profile</ion-title>
    </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
    <ion-refresher slot="fixed" (ionRefresh)="doRefresh($event)">
        <app-refresher></app-refresher>
    </ion-refresher>
    <div *ngIf="user">
        <app-avatar [hash]="user.avatar" [large]="true"></app-avatar>
        <h1>{{ user.name }}</h1>
        <div *ngIf="isMe || user.is_me">
            <ion-button expand="block" size="large" (click)="searchUsers()">Find users</ion-button>
            <ion-button expand="block" size="large" (click)="friends()" color="secondary">Your Friends</ion-button>
            <ion-button expand="block" size="large" (click)="openSettings()" color="tertiary">Settings</ion-button>
        </div>

        <app-friend-buttons *ngIf="!(isMe || user.is_me)" [user]="user" [large]="true"></app-friend-buttons>

        <app-event-list [events]="events" emptyMessage="{{ user.is_me ? 'You have' : user.name + ' has' }} not hosted any events yet."></app-event-list>

        <a *ngIf="!(isMe || user.is_me)" (click)="block()"><u>Block {{ user.name }}</u></a>
    </div>
</ion-content>
