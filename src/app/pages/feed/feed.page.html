<ion-header>
    <ion-toolbar>
        <ion-buttons slot="end">
            <ion-button [routerLink]="['/tabs/form-event']">
                <ion-icon slot="icon-only" name="add"></ion-icon>
            </ion-button>
        </ion-buttons>
        <ion-title>Events</ion-title>
    </ion-toolbar>
</ion-header>

<ion-content *ngIf="events" class="list-mini-content" padding>
    <ion-refresher slot="fixed" (ionRefresh)="doRefresh($event)">
        <ion-img class="loader" src="assets/imgs/logo/loader.png"></ion-img>
    </ion-refresher>
    <div *ngIf="events.length > 0" class="list">
        <ion-grid class="ion-no-padding">
            <ion-row class="ion-align-items-center ion-no-padding list-event" *ngFor="let event of events" (click)="goToEvent(event.id)">
                <ion-col>
                    <div class="ocean small">
                        <div class="ocean-label"><span>{{ event.people }}</span><br>people</div>
                        <div class="water" [style.transform]="'translateY(' + (40 - 1.5 * event.people) + 'px)'">
                            <span class="wave"></span>
                            <span class="deep-water"></span>
                        </div>
                    </div>
                </ion-col>
                <ion-col>
                    <div>
                        <h2 class="tag">{{ event.name }}</h2>
                        <div class="tags">
                            <div>@ {{ event.location }}</div>
                            <div>Hosted by {{ event.hosts[0].name }}</div>
                        </div>
                        <div>{{ formatDate(event.time) }}</div>
                    </div>
                </ion-col>
            </ion-row>
        </ion-grid>
    </div>
    <div *ngIf="events.length == 0" class="empty-list">
        No events found... post one!
    </div>
</ion-content>
